{% macro input(label, name, errors, value="", type="text", placeholder="") -%}
  <div class="form-group">
    <label for="{{ name }}">{{ label }}</label>
    <input id="{{ name }}" class="form-control" type="{{ type }}" value="{{ value }}" name="{{ name }}" placeholder="{{ placeholder }}" >
    
    {% for error in errors %}
      <small class="form-text text-muted">{{ error }}</small>
    {% endfor %}
  </div>
{%- endmacro %}

{% macro skill_table(skills, current_user) -%}
  {% for skill in skills %}
  {% set sum  = skill.experiences | sum(attribute='experience') / 12 %}
  <table class="table table-hover">
    <thead class="thead-dark">
      <tr>
        <th scope="col">{{ skill.name }}</th>
        <th scope="col">{{ sum | round(1) }} years</th>

        {% if skill.owner_id == current_user.id %}
        <th>
          <form method="POST" action="{{ url_for('skills_delete', skill_id=skill.id) }}">
            <input type="submit" class="btn btn-danger" style="width: 100%;" value="Delete skill"/>
          </form>
        </th>
        {% endif %}
      </tr>
    </thead>
    <tbody>
    {% for experience in skill.experiences %}
      <tr>
        <th scope="row">{{ experience.experience_type }}</th>
        <td>{{ (experience.experience / 12) | round(1) }} years</td>
      </tr>
    {% endfor%}
    </tbody>
  </table>
  {% endfor %}
{%- endmacro %}

{% macro banner(text) -%}
<div class="row">
  <div class="col text-center" style="background-color: red;">
    <h1 class="m-4">
      {{ text }}
    </h1>
  </div>
</div>
{%- endmacro %}
